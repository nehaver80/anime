{"ast":null,"code":"import _regeneratorRuntime from\"H:/anime/animee/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"H:/anime/animee/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"H:/anime/animee/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"H:/anime/animee/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'./Components/style.css';import{AnimeList}from\"./Components/AnimeList\";import{AnimeInfo}from\"./Components/AnimeInfo\";import{AddToList}from\"./Components/AddToList\";import{RemoveFromList}from\"./Components/RemoveFromList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState('Naruto'),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),animeData=_useState4[0],setAnimeData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),animeInfo=_useState6[0],setAnimeInfo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),myAnimeList=_useState8[0],setMyAnimeList=_useState8[1];var addTo=function addTo(anime){var index=myAnimeList.findIndex(function(myanime){return myanime.mal_id===anime.mal_id;});if(index<0){var newArray=[].concat(_toConsumableArray(myAnimeList),[anime]);setMyAnimeList(newArray);}};var removeFrom=function removeFrom(anime){var newArray=myAnimeList.filter(function(myanime){return myanime.mal_id!==anime.mal_id;});setMyAnimeList(newArray);};var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.jikan.moe/v4/anime?q=\".concat(search,\"&limit=20\"));case 2:res=_context.sent;_context.next=5;return res.json();case 5:resData=_context.sent;setAnimeData(resData.data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();useEffect(function(){getData();},[search]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MyAnimeList\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search your anime\",onChange:function onChange(e){return setSearch(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animeInfo\",children:animeInfo&&/*#__PURE__*/_jsx(AnimeInfo,{animeInfo:animeInfo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"anime-row\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-heading\",children:\"Anime\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(AnimeList,{animelist:animeData,setAnimeInfo:setAnimeInfo,animeComponent:AddToList,handleList:function handleList(anime){return addTo(anime);}})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-heading\",children:\"My List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(AnimeList,{animelist:myAnimeList,setAnimeInfo:setAnimeInfo,animeComponent:RemoveFromList,handleList:function handleList(anime){return removeFrom(anime);}})})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","AnimeList","AnimeInfo","AddToList","RemoveFromList","App","search","setSearch","animeData","setAnimeData","animeInfo","setAnimeInfo","myAnimeList","setMyAnimeList","addTo","anime","index","findIndex","myanime","mal_id","newArray","removeFrom","filter","getData","fetch","res","json","resData","data","e","target","value"],"sources":["H:/anime/animee/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport './Components/style.css';\nimport { AnimeList } from \"./Components/AnimeList\";\nimport { AnimeInfo } from \"./Components/AnimeInfo\";\nimport { AddToList } from \"./Components/AddToList\";\nimport { RemoveFromList } from \"./Components/RemoveFromList\";\nfunction App() {\n\n  const [search,setSearch]=useState('Naruto')\n  const [animeData,setAnimeData]=useState();\n  const [animeInfo,setAnimeInfo]=useState()\n  const [myAnimeList,setMyAnimeList]=useState([])\n\n  const addTo=(anime)=>{\n    const index=myAnimeList.findIndex((myanime)=>{\n        return myanime.mal_id === anime.mal_id\n    })\n    if(index < 0){\n      const newArray=[...myAnimeList,anime]\n      setMyAnimeList(newArray);\n    }\n    \n  }\n  const removeFrom=(anime)=>{\n    const newArray=myAnimeList.filter((myanime)=>{\n      return myanime.mal_id !== anime.mal_id\n    })\n    setMyAnimeList(newArray)\n  }\n  const getData=async()=>{\n      const res=await fetch(`https://api.jikan.moe/v4/anime?q=${search}&limit=20`)\n      const resData= await res.json();\n      setAnimeData(resData.data)\n  }\n  useEffect(()=>{\n    getData()\n  },[search])\n\n  return (\n    <>\n        <div className=\"header\">\n          <h1>MyAnimeList</h1>\n          <div className=\"search-box\">\n              <input type=\"search\" placeholder=\"Search your anime\" \n              onChange={(e)=>setSearch(e.target.value)}/>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"animeInfo\">\n           {animeInfo && <AnimeInfo animeInfo={animeInfo}/>}\n          </div>\n          <div className=\"anime-row\">\n            <h2 className=\"text-heading\">Anime</h2>\n            <div className=\"row\">\n                <AnimeList \n                animelist={animeData}\n                setAnimeInfo={setAnimeInfo}\n                animeComponent={AddToList}\n                handleList={(anime)=>addTo(anime)}\n                />\n            </div>\n            <h2 className=\"text-heading\">My List</h2>\n            <div className=\"row\">\n                <AnimeList \n                animelist={myAnimeList}\n                setAnimeInfo={setAnimeInfo}\n                animeComponent={RemoveFromList}\n                handleList={(anime)=>removeFrom(anime)}\n                />\n            </div>\n          </div>\n        </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}